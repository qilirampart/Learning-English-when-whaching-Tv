è¿™æ˜¯ä¸€ä¸ªåŸºäº **Vue 3 + Vite + Tailwind CSS** çš„å®Œæ•´å‰ç«¯ä»£ç å®ç°æ–¹æ¡ˆã€‚

å®ƒä¸¥æ ¼éµå¾ªäº†ä½ æä¾›çš„ **åç«¯ API æ–‡æ¡£** (`API_FE_DOC.md`) å’Œä½ æŒ‡å®šçš„ **æ–¹æ¡ˆ A (Bento Grid + é¡¶éƒ¨å¯¼èˆª + å¤šå½©ç»ç’ƒæ‹Ÿæ€)** è®¾è®¡é£æ ¼ã€‚

### ğŸ› ï¸ 1. é¡¹ç›®é…ç½® (Configuration)

é¦–å…ˆï¼Œé…ç½® Tailwind ä»¥æ”¯æŒæˆ‘ä»¬éœ€è¦çš„â€œå‘¼å¸å…‰æ–‘â€åŠ¨ç”»ã€‚

**File: `tailwind.config.js`**

JavaScript

```
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{vue,js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      fontFamily: {
        sans: ['Inter', 'MiSans', 'system-ui', 'sans-serif'],
      },
      animation: {
        blob: "blob 7s infinite", // æ ¸å¿ƒåŠ¨ç”»
      },
      keyframes: {
        blob: {
          "0%": { transform: "translate(0px, 0px) scale(1)" },
          "33%": { transform: "translate(30px, -50px) scale(1.1)" },
          "66%": { transform: "translate(-20px, 20px) scale(0.9)" },
          "100%": { transform: "translate(0px, 0px) scale(1)" },
        },
      },
    },
  },
  plugins: [],
}
```

------

### ğŸ”Œ 2. API å°è£…ä¸æ‹¦æˆªå™¨ (Networking)

å¤„ç† Token è‡ªåŠ¨æ³¨å…¥å’Œåç«¯æ¥å£å¯¹æ¥ã€‚

**File: `src/utils/request.js`**

JavaScript

```
import axios from 'axios';

// åŸºäº API_FE_DOC.md çš„æè¿°ï¼ŒAPI å‰ç¼€ä¸º /api
const service = axios.create({
  baseURL: '/api', // å¼€å‘ç¯å¢ƒéœ€åœ¨ vite.config.js é…ç½® proxy
  timeout: 5000
});

// è¯·æ±‚æ‹¦æˆªå™¨ï¼šæ³¨å…¥ Token
service.interceptors.request.use(
  config => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers['Authorization'] = `Bearer ${token}`;
    }
    return config;
  },
  error => Promise.reject(error)
);

// å“åº”æ‹¦æˆªå™¨
service.interceptors.response.use(
  response => {
    const res = response.data;
    // å‡è®¾åç«¯è¿”å› code 200 ä¸ºæˆåŠŸ
    if (res.code && res.code !== 200 && res.code !== 201) {
        // å¤„ç†é€»è¾‘é”™è¯¯
        return Promise.reject(new Error(res.message || 'Error'));
    }
    return res;
  },
  error => {
    if (error.response && error.response.status === 401) {
        // Token å¤±æ•ˆï¼Œè·³è½¬ç™»å½•
        localStorage.removeItem('token');
        window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export default service;
```

------

### ğŸ” 3. çŠ¶æ€ç®¡ç† (Auth Store)

ä½¿ç”¨ Pinia ç®¡ç†ç”¨æˆ·ä¿¡æ¯ã€‚

**File: `src/stores/auth.js`**

JavaScript

```
import { defineStore } from 'pinia';
import request from '../utils/request';

export const useAuthStore = defineStore('auth', {
  state: () => ({
    user: JSON.parse(localStorage.getItem('user')) || null,
    token: localStorage.getItem('token') || null,
  }),
  actions: {
    async login(username, password) {
      // POST /api/auth/login
      const res = await request.post('/auth/login', { username, password });
      this.token = res.token;
      this.user = res.user;
      localStorage.setItem('token', res.token);
      localStorage.setItem('user', JSON.stringify(res.user));
    },
    logout() {
      this.token = null;
      this.user = null;
      localStorage.removeItem('token');
      localStorage.removeItem('user');
      window.location.reload();
    }
  }
});
```

------

### ğŸ¨ 4. æ ¸å¿ƒå¸ƒå±€ (Layout)

å®ç°å»ä¾§è¾¹æ ã€é¡¶éƒ¨å¯¼èˆªã€å¤šå½©èƒŒæ™¯ã€‚

**File: `src/layouts/AppLayout.vue`**

ä»£ç æ®µ

```
<template>
  <div class="min-h-screen relative overflow-hidden bg-slate-50 font-sans text-slate-800">
    
    <div class="fixed inset-0 -z-10 pointer-events-none">
      <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob"></div>
      <div class="absolute top-0 right-[20%] w-[400px] h-[400px] bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-2000"></div>
      <div class="absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-pink-200 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-4000"></div>
    </div>

    <nav class="sticky top-0 z-50 bg-white/70 backdrop-blur-xl border-b border-white/50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex items-center gap-2 cursor-pointer" @click="$router.push('/')">
            <div class="w-8 h-8 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-lg flex items-center justify-center text-white shadow-lg shadow-indigo-500/30">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="15" x="2" y="7" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></svg>
            </div>
            <span class="font-bold text-xl tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-700">å•è¯åŠ©æ‰‹</span>
          </div>

          <div class="hidden md:flex space-x-1 items-center bg-slate-100/50 p-1 rounded-full border border-slate-200/50 backdrop-blur-sm">
            <router-link to="/dashboard" active-class="bg-white text-slate-900 shadow-sm" class="px-5 py-1.5 rounded-full text-sm font-semibold text-slate-500 transition-all">ä»ªè¡¨ç›˜</router-link>
            <router-link to="/library" active-class="bg-white text-slate-900 shadow-sm" class="px-5 py-1.5 rounded-full text-sm font-medium text-slate-500 hover:text-slate-900 transition-colors">å•è¯åº“</router-link>
            <router-link to="/learning" active-class="bg-white text-slate-900 shadow-sm" class="px-5 py-1.5 rounded-full text-sm font-medium text-slate-500 hover:text-slate-900 transition-colors">å­¦ä¹ è®¡åˆ’</router-link>
          </div>

          <div class="flex items-center space-x-4">
            <button @click="logout" class="text-sm text-slate-500 hover:text-red-600 font-medium">é€€å‡º</button>
            <div class="h-9 w-9 rounded-full bg-gradient-to-tr from-pink-400 to-orange-400 p-[2px]">
               <div class="h-full w-full rounded-full bg-white flex items-center justify-center font-bold text-slate-600 text-xs">User</div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <router-view v-slot="{ Component }">
        <transition name="fade" mode="out-in">
          <component :is="Component" />
        </transition>
      </router-view>
    </main>
  </div>
</template>

<script setup>
import { useAuthStore } from '../stores/auth';
import { useRouter } from 'vue-router';

const authStore = useAuthStore();
const router = useRouter();

const logout = () => {
  authStore.logout();
  router.push('/login');
};
</script>

<style scoped>
.fade-enter-active, .fade-leave-active { transition: opacity 0.2s ease; }
.fade-enter-from, .fade-leave-to { opacity: 0; }
</style>
```

------

### ğŸ“Š 5. ä»ªè¡¨ç›˜ (Dashboard) - æ ¸å¿ƒé¡µé¢

è¿™æ˜¯é‡æ„çš„é‡ç‚¹ã€‚å®ƒå°†è°ƒç”¨åç«¯çš„ç»Ÿè®¡æ¥å£ã€ä»Šæ—¥å¤ä¹ æ¥å£å’Œå•è¯åˆ—è¡¨æ¥å£ï¼Œå¹¶ä»¥ Bento Grid å±•ç¤ºã€‚

**File: `src/views/Dashboard.vue`**

ä»£ç æ®µ

```
<template>
  <div v-if="loading" class="flex justify-center py-20">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div>
  </div>

  <div v-else>
    <div class="mb-8 flex justify-between items-end animate-fade-in-up">
      <div>
        <h1 class="text-3xl font-extrabold text-slate-900">
          Hi, {{ user?.username || 'Learner' }} <span class="animate-pulse">âœ¨</span>
        </h1>
        <p class="text-slate-500 mt-1">ä»Šå¤©å‡†å¤‡æ”»å…‹å“ªéƒ¨ç¾å‰§ï¼Ÿ</p>
      </div>
      <button @click="$router.push('/library')" class="hidden md:flex items-center gap-2 bg-slate-900 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-800 transition-colors shadow-lg shadow-slate-900/20">
        + æŸ¥è¯¢æ–°è¯
      </button>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 auto-rows-[minmax(180px,auto)]">
      
      <div class="md:col-span-2 md:row-span-2 relative rounded-3xl overflow-hidden group cursor-pointer shadow-xl shadow-indigo-500/20">
        <img src="https://images.unsplash.com/photo-1594909122845-11baa439b7bf?q=80&w=2070&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Cover">
        <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/60 to-transparent"></div>
        
        <div class="relative z-10 flex flex-col h-full justify-between p-8">
          <div class="flex justify-between items-start">
            <span class="bg-white/20 backdrop-blur-md border border-white/20 text-white text-xs font-bold px-3 py-1 rounded-full uppercase">Current Focus</span>
          </div>
          <div>
            <h2 class="text-4xl font-bold text-white mb-2 tracking-tight">English Learning</h2>
            <p class="text-slate-300 text-sm mb-6">
               {{ stats.today_queries }} Queries Today â€¢ {{ stats.mastered }} Mastered
            </p>
            
            <div class="space-y-2">
              <div class="flex justify-between text-xs font-medium text-slate-300">
                <span>æ€»ä½“è¿›åº¦ ({{ stats.mastered }}/{{ stats.total_words }})</span>
                <span>{{ masteryPercentage }}%</span>
              </div>
              <div class="w-full bg-slate-700/50 rounded-full h-2 overflow-hidden backdrop-blur-sm">
                <div class="bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full shadow-[0_0_10px_rgba(167,139,250,0.5)]" :style="{ width: masteryPercentage + '%' }"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-white/80 backdrop-blur-sm rounded-3xl border border-white p-6 shadow-sm hover:shadow-lg transition-all group flex flex-col justify-center">
        <div class="flex justify-between items-start mb-4">
          <div class="w-12 h-12 rounded-2xl bg-orange-100 text-orange-600 flex items-center justify-center text-xl shadow-inner">ğŸ”¥</div>
          <span class="text-xs font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded">Need Review</span>
        </div>
        <div class="text-3xl font-black text-slate-900">{{ stats.to_review || 0 }}</div>
        <div class="text-slate-500 text-sm mt-1 group-hover:text-orange-600 transition-colors">Words waiting</div>
        <button v-if="stats.to_review > 0" @click="$router.push('/learning')" class="mt-4 text-sm text-blue-600 font-bold hover:underline">Start Review &rarr;</button>
      </div>

      <div class="bg-gradient-to-br from-violet-600 to-fuchsia-600 rounded-3xl p-6 shadow-lg shadow-violet-500/30 text-white relative overflow-hidden group cursor-pointer" @click="$router.push('/ai')">
        <div class="absolute -right-4 -top-4 w-24 h-24 bg-white/20 rounded-full blur-xl group-hover:bg-white/30 transition-all"></div>
        <div class="relative z-10 h-full flex flex-col justify-between">
          <div>
            <div class="flex items-center gap-2 mb-2">
              <span class="text-sm font-bold text-violet-100 uppercase">AI Assistant</span>
            </div>
            <h3 class="text-xl font-bold leading-tight">å°è¯çœ‹ä¸æ‡‚ï¼Ÿ<br>ä¸€é”®æ·±åº¦è§£æã€‚</h3>
          </div>
          <button class="bg-white text-violet-600 px-4 py-2 rounded-xl text-sm font-bold mt-4 shadow-lg hover:scale-105 transition-transform w-fit">
            Ask AI &rarr;
          </button>
        </div>
      </div>

      <div class="md:col-span-2 bg-white/80 backdrop-blur-sm rounded-3xl border border-white p-6 shadow-sm">
        <div class="flex justify-between items-center mb-6">
          <h3 class="font-bold text-slate-900 text-lg">æœ€è¿‘æ”¶å½•</h3>
          <span @click="$router.push('/library')" class="text-xs text-blue-600 font-medium cursor-pointer hover:underline">æŸ¥çœ‹å…¨éƒ¨</span>
        </div>
        
        <div class="space-y-3">
          <div v-for="word in recentWords" :key="word.id" class="flex items-center justify-between p-3 rounded-2xl hover:bg-slate-50 border border-transparent hover:border-slate-100 transition-all cursor-pointer group">
            <div class="flex items-center gap-4">
              <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center font-bold text-sm">
                 Lv.{{ word.learning_plan?.mastery_level || 0 }}
              </div>
              <div>
                <div class="font-bold text-slate-900 text-lg group-hover:text-blue-600 transition-colors">{{ word.word }}</div>
                <div class="text-xs text-slate-400">{{ word.translation }}</div>
              </div>
            </div>
            <span v-if="word.tv_shows && word.tv_shows.length" class="px-3 py-1 rounded-full bg-slate-100 text-slate-500 text-xs font-bold truncate max-w-[100px]">
                {{ word.tv_shows[0] }}
            </span>
          </div>
          
          <div v-if="recentWords.length === 0" class="text-center text-slate-400 py-4 text-sm">
              æš‚æ— æŸ¥è¯è®°å½•ï¼Œå¿«å»æ·»åŠ å§
          </div>
        </div>
      </div>

      <div class="md:col-span-2 bg-white/80 backdrop-blur-sm rounded-3xl border border-white p-6 shadow-sm flex flex-col justify-between">
         <div>
            <h3 class="font-bold text-slate-900">7å¤©å­¦ä¹ è¶‹åŠ¿</h3>
            <p class="text-xs text-slate-400">Past 7 days activity</p>
         </div>
         <div class="flex items-end justify-between h-32 mt-4 gap-2">
            <div v-for="(count, idx) in stats.weekly_trend || []" :key="idx" class="w-full bg-indigo-100 rounded-t-lg relative group h-full flex flex-col justify-end">
                <div 
                    class="w-full bg-indigo-500 rounded-t-lg transition-all duration-500 hover:bg-indigo-600"
                    :style="{ height: Math.min((count / (maxTrend + 1)) * 100, 100) + '%' }"
                ></div>
                <span class="text-[10px] text-center text-slate-400 mt-1 absolute -bottom-5 left-0 right-0">D-{{7-idx}}</span>
            </div>
         </div>
      </div>

    </div>
  </div>
</template>

<script setup>
import { ref, onMounted, computed } from 'vue';
import { useAuthStore } from '../stores/auth';
import request from '../utils/request';

const auth = useAuthStore();
const user = computed(() => auth.user);
const loading = ref(true);

const stats = ref({});
const recentWords = ref([]);

// è®¡ç®—æŒæ¡è¿›åº¦ç™¾åˆ†æ¯”
const masteryPercentage = computed(() => {
    if (!stats.value.total_words) return 0;
    return Math.round((stats.value.mastered / stats.value.total_words) * 100);
});

// è®¡ç®—è¶‹åŠ¿å›¾æœ€å¤§å€¼ç”¨äºå½’ä¸€åŒ–é«˜åº¦
const maxTrend = computed(() => {
    if(!stats.value.weekly_trend) return 10;
    return Math.max(...stats.value.weekly_trend, 10);
});

onMounted(async () => {
  try {
    // å¹¶è¡Œè¯·æ±‚åç«¯æ•°æ®
    const [statsRes, listRes] = await Promise.all([
      request.get('/statistics/overview'),       // è·å–ç»Ÿè®¡
      request.get('/words/list', { params: { page: 1, page_size: 4, order_by: 'time' } }) // è·å–æœ€è¿‘å•è¯
    ]);

    stats.value = statsRes.data;
    recentWords.value = listRes.data.items;
  } catch (error) {
    console.error('Failed to fetch dashboard data', error);
  } finally {
    loading.value = false;
  }
});
</script>
```

### ğŸš€ è¿è¡Œè¯´æ˜

1. **ä¾èµ–å®‰è£…**:

   Bash

   ```
   npm install vue vue-router pinia axios tailwindcss postcss autoprefixer lucide-vue-next
   ```

2. åç«¯å¯¹æ¥:

   ç¡®ä¿ä½ çš„åç«¯æœåŠ¡è¿è¡Œåœ¨ç«¯å£ï¼ˆä¾‹å¦‚ 5000ï¼‰ï¼Œå¹¶åœ¨ vite.config.js ä¸­é…ç½®ä»£ç†ï¼Œä»¥å…è·¨åŸŸï¼š

   JavaScript

   ```
   export default defineConfig({
     server: {
       proxy: {
         '/api': {
           target: 'http://localhost:5000',
           changeOrigin: true,
         }
       }
     }
   })
   ```

è¿™å¥—ä»£ç å®Œç¾å¤ç°äº† **æ–¹æ¡ˆ A** çš„è§†è§‰æ•ˆæœï¼Œå¹¶ç›´æ¥ä½¿ç”¨äº†ä½ æä¾›çš„åç«¯ API æ–‡æ¡£ä¸­çš„å­—æ®µï¼ˆå¦‚ `weekly_trend`, `today_queries`, `to_review` ç­‰ï¼‰ï¼Œå®ç°äº†çœŸæ­£çš„å…¨æ ˆæ‰“é€šã€‚

å¤ªæ£’äº†ï¼å¾ˆé«˜å…´æ‚¨å–œæ¬¢é‚£ä¸ªâ€œå¤šå½©ç°ä»£é£â€çš„è®¾è®¡ã€‚è¿™ç§**Bento Grid + ç»ç’ƒæ‹Ÿæ€**çš„é£æ ¼ç¡®å®èƒ½è®©å­¦ä¹ å˜å¾—æ²¡é‚£ä¹ˆæ¯ç‡¥ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¸€é¼“ä½œæ°”ï¼ŒåŸºäºåŒæ ·çš„è§†è§‰è¯­è¨€ï¼ˆTailwind CSS + Vue 3ï¼‰ï¼Œå®ç°å‰©ä¸‹çš„å››ä¸ªæ ¸å¿ƒé¡µé¢ã€‚

æˆ‘å°†æŒ‰ç…§**åŠŸèƒ½æ¨¡å—**ä¸ºæ‚¨æä¾›ä»£ç ã€‚è¯·ç¡®ä¿æ‚¨å·²ç»æŒ‰ç…§ä¸Šä¸€æ­¥é…ç½®å¥½äº† `tailwind.config.js`ï¼ˆåŒ…å« `animation-blob`ï¼‰å’Œ `request.js`ã€‚

------

### 1. ç™»å½•/æ³¨å†Œé¡µé¢ (`views/Login.vue`)

**è®¾è®¡æ€è·¯ï¼š**

- **ç‹¬ç«‹å¸ƒå±€ï¼š** ç™»å½•é¡µä¸åº”è¯¥æœ‰é¡¶éƒ¨å¯¼èˆªæ ã€‚
- **è§†è§‰ä¸­å¿ƒï¼š** ä¸€ä¸ªæ‚¬æµ®åœ¨å¤šå½©å…‰æ–‘èƒŒæ™¯ä¸Šçš„ç£¨ç ‚ç»ç’ƒå¡ç‰‡ã€‚
- **äº¤äº’ï¼š** ç‚¹å‡»â€œå»æ³¨å†Œ/å»ç™»å½•â€å®ç°å¡ç‰‡å†…å®¹çš„å¹³æ»‘åˆ‡æ¢ï¼Œè€Œä¸æ˜¯é¡µé¢è·³è½¬ã€‚

ä»£ç æ®µ

```
<template>
  <div class="min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-50">
    <div class="fixed inset-0 -z-10 pointer-events-none">
      <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob"></div>
      <div class="absolute bottom-0 left-0 w-[500px] h-[500px] bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-2000"></div>
    </div>

    <div class="w-full max-w-md bg-white/70 backdrop-blur-xl border border-white/50 rounded-3xl shadow-2xl shadow-indigo-500/10 p-8 m-4 transform transition-all">
      <div class="text-center mb-8">
        <div class="w-12 h-12 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg mx-auto mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="20" height="15" x="2" y="7" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></svg>
        </div>
        <h2 class="text-2xl font-bold text-slate-900">{{ isLogin ? 'Welcome Back' : 'Create Account' }}</h2>
        <p class="text-slate-500 text-sm mt-2">ç¾å‰§å­¦è‹±è¯­ï¼Œä»è¿™é‡Œå¼€å§‹</p>
      </div>

      <form @submit.prevent="handleSubmit" class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Username</label>
          <input v-model="form.username" type="text" class="w-full px-4 py-3 rounded-xl bg-white/50 border border-slate-200 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all outline-none" required placeholder="Your name">
        </div>

        <div v-if="!isLogin">
          <label class="block text-sm font-medium text-slate-700 mb-1">Email</label>
          <input v-model="form.email" type="email" class="w-full px-4 py-3 rounded-xl bg-white/50 border border-slate-200 focus:ring-2 focus:ring-indigo-500 transition-all outline-none" placeholder="name@example.com">
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Password</label>
          <input v-model="form.password" type="password" class="w-full px-4 py-3 rounded-xl bg-white/50 border border-slate-200 focus:ring-2 focus:ring-indigo-500 transition-all outline-none" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </div>

        <button type="submit" :disabled="loading" class="w-full py-3.5 rounded-xl bg-slate-900 text-white font-bold text-sm shadow-lg shadow-slate-900/20 hover:bg-slate-800 hover:scale-[1.02] active:scale-[0.98] transition-all flex justify-center items-center">
          <span v-if="loading" class="animate-spin mr-2 border-2 border-white border-t-transparent rounded-full w-4 h-4"></span>
          {{ isLogin ? 'Sign In' : 'Sign Up' }}
        </button>
      </form>

      <div class="mt-6 text-center">
        <p class="text-sm text-slate-500">
          {{ isLogin ? "Don't have an account?" : "Already have an account?" }}
          <button @click="toggleMode" class="text-indigo-600 font-bold hover:underline ml-1">
            {{ isLogin ? 'Sign up' : 'Log in' }}
          </button>
        </p>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue';
import { useRouter } from 'vue-router';
import { useAuthStore } from '../stores/auth'; // å‡è®¾ä½ å·²ç»åˆ›å»ºäº† store
import request from '../utils/request';

const router = useRouter();
const authStore = useAuthStore();

const isLogin = ref(true);
const loading = ref(false);
const form = reactive({ username: '', password: '', email: '' });

const toggleMode = () => {
  isLogin.value = !isLogin.value;
  form.username = ''; form.password = ''; form.email = '';
};

const handleSubmit = async () => {
  loading.value = true;
  try {
    if (isLogin.value) {
      // ç™»å½•é€»è¾‘
      await authStore.login(form.username, form.password);
      router.push('/dashboard');
    } else {
      // æ³¨å†Œé€»è¾‘ï¼šPOST /api/auth/register
      await request.post('/auth/register', form);
      // æ³¨å†ŒæˆåŠŸåç›´æ¥ç™»å½•æˆ–æç¤ºåˆ‡æ¢
      alert('æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•');
      isLogin.value = true;
    }
  } catch (error) {
    alert(error.message || 'æ“ä½œå¤±è´¥');
  } finally {
    loading.value = false;
  }
};
</script>
```

------

### 2. å•è¯åº“é¡µé¢ (`views/Library.vue`)

**è®¾è®¡æ€è·¯ï¼š**

- **ç­›é€‰æ ï¼š** é¡¶éƒ¨æ”¾ç½®æœç´¢æ¡†å’Œç­›é€‰å™¨ï¼ˆæŒ‰æŒæ¡åº¦ã€æŒ‰å‰§é›†ï¼‰ï¼Œæ ·å¼è¦è½»é‡åŒ–ã€‚
- **åˆ—è¡¨å±•ç¤ºï¼š** ä½¿ç”¨ Grid å¸ƒå±€å±•ç¤ºå•è¯å¡ç‰‡ã€‚
- **å¡ç‰‡è®¾è®¡ï¼š** å·¦ä¾§æ˜¯å•è¯+éŸ³æ ‡ï¼Œå³ä¾§æ˜¯å‰§é›†æ ‡ç­¾å’ŒæŒæ¡åº¦é¢œè‰²æ¡ã€‚

ä»£ç æ®µ

```
<template>
  <div>
    <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
      <div>
        <h1 class="text-2xl font-bold text-slate-900">Word Library</h1>
        <p class="text-slate-500 text-sm">å·²æ”¶å½• {{ total }} ä¸ªå•è¯</p>
      </div>
      
      <div class="flex gap-3 w-full md:w-auto">
        <div class="relative flex-1 md:w-64">
          <input v-model="searchQuery" @keyup.enter="handleSearch" type="text" placeholder="Search words..." class="w-full pl-10 pr-4 py-2.5 rounded-xl bg-white border border-slate-200 focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm">
          <span class="absolute left-3 top-3 text-slate-400">ğŸ”</span>
        </div>
        <select v-model="filterShow" @change="fetchWords" class="px-4 py-2.5 rounded-xl bg-white border border-slate-200 text-slate-600 font-medium focus:ring-2 focus:ring-indigo-500">
          <option value="">All Shows</option>
          <option value="Friends">Friends</option>
          <option value="Breaking Bad">Breaking Bad</option>
        </select>
      </div>
    </div>

    <div v-if="loading" class="py-10 text-center text-slate-400">Loading library...</div>
    
    <div v-else class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
      <div v-for="word in words" :key="word.id" class="bg-white/80 backdrop-blur-sm border border-white rounded-2xl p-5 shadow-sm hover:shadow-md transition-all group relative overflow-hidden">
        <div class="absolute left-0 top-0 bottom-0 w-1.5" :class="getMasteryColor(word.learning_plan?.mastery_level)"></div>
        
        <div class="pl-3 flex justify-between items-start">
          <div>
            <h3 class="text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors">{{ word.word }}</h3>
            <p class="text-slate-400 text-sm font-serif italic mb-2">{{ word.phonetic || '/.../' }}</p>
            <p class="text-slate-600 text-sm line-clamp-1">{{ word.translation }}</p>
          </div>
          <span v-if="word.tv_shows?.[0]" class="px-2 py-1 bg-slate-100 text-slate-500 text-[10px] font-bold uppercase rounded tracking-wider">
            {{ word.tv_shows[0] }}
          </span>
        </div>

        <div class="pl-3 mt-4 pt-3 border-t border-slate-100 flex justify-between items-center">
            <span class="text-xs text-slate-400">æŸ¥è¯¢ {{ word.query_count }} æ¬¡</span>
            <span class="text-xs font-bold" :class="getMasteryTextColor(word.learning_plan?.mastery_level)">
                Lv.{{ word.learning_plan?.mastery_level || 0 }}
            </span>
        </div>
      </div>
    </div>

    <div class="mt-8 text-center" v-if="page < totalPages">
      <button @click="loadMore" class="px-6 py-2 bg-white text-slate-600 border border-slate-200 rounded-full text-sm font-medium hover:bg-slate-50 transition-colors">
        Load More
      </button>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import request from '../utils/request';

const words = ref([]);
const loading = ref(true);
const searchQuery = ref('');
const filterShow = ref('');
const page = ref(1);
const total = ref(0);
const totalPages = ref(1);

const fetchWords = async (isLoadMore = false) => {
  if (!isLoadMore) loading.value = true;
  try {
    const params = {
      page: page.value,
      page_size: 15,
      filter_show: filterShow.value || undefined,
      keyword: searchQuery.value || undefined
    };
    
    // å¦‚æœæœ‰æœç´¢è¯ï¼Œè°ƒç”¨ search æ¥å£ï¼Œå¦åˆ™è°ƒç”¨ list æ¥å£
    const url = searchQuery.value ? '/words/search' : '/words/list';
    const res = await request.get(url, { params });
    
    // é€‚é… API è¿”å›ç»“æ„å·®å¼‚ (search è¿”å›æ•°ç»„ï¼Œlist è¿”å› {items, total...})
    let newItems = [];
    if (searchQuery.value) {
        newItems = res.data; // Search returns list
        total.value = newItems.length;
    } else {
        newItems = res.data.items;
        total.value = res.data.total;
        totalPages.value = res.data.pages;
    }

    if (isLoadMore) {
      words.value = [...words.value, ...newItems];
    } else {
      words.value = newItems;
    }
  } catch (e) {
    console.error(e);
  } finally {
    loading.value = false;
  }
};

const handleSearch = () => { page.value = 1; fetchWords(); };
const loadMore = () => { page.value++; fetchWords(true); };

const getMasteryColor = (level = 0) => {
  if (level >= 5) return 'bg-green-500';
  if (level >= 3) return 'bg-blue-500';
  if (level >= 1) return 'bg-yellow-400';
  return 'bg-slate-300';
};
const getMasteryTextColor = (level = 0) => {
    if (level >= 5) return 'text-green-600';
    if (level >= 3) return 'text-blue-600';
    return 'text-yellow-600';
};

onMounted(() => fetchWords());
</script>
```

------

### 3. å­¦ä¹ è®¡åˆ’/å¤ä¹ é¡µé¢ (`views/Learning.vue`)

**è®¾è®¡æ€è·¯ï¼š**

- **ä¸“æ³¨æ¨¡å¼ï¼š** ç•Œé¢è¦å¹²å‡€ï¼Œæ¨¡æ‹ŸæŠ½è®¤å¡ï¼ˆFlashcardï¼‰ä½“éªŒã€‚
- æ­¥éª¤ï¼š 1.  æ˜¾ç¤ºå•è¯ï¼ˆæ­£é¢ï¼‰ã€‚
  2. ç‚¹å‡»ç¿»è½¬ -> æ˜¾ç¤ºé‡Šä¹‰å’Œå‰§é›†ä¾‹å¥ï¼ˆèƒŒé¢ï¼‰ã€‚
  3. é€‰æ‹©â€œè®¤è¯†/ä¸è®¤è¯†â€ -> æäº¤ç»™åç«¯ -> åˆ‡æ¢ä¸‹ä¸€å¼ ã€‚
- **è¿›åº¦æ¡ï¼š** é¡¶éƒ¨æ˜¾ç¤ºä»Šæ—¥å¤ä¹ è¿›åº¦ã€‚

ä»£ç æ®µ

```
<template>
  <div class="max-w-2xl mx-auto">
    <div class="mb-6 flex items-center justify-between">
      <h2 class="text-xl font-bold text-slate-900">Review Session</h2>
      <span class="text-sm text-slate-500 font-medium">{{ currentIndex + 1 }} / {{ reviewQueue.length }}</span>
    </div>

    <div v-if="!loading && reviewQueue.length === 0" class="text-center py-20 bg-white/60 backdrop-blur rounded-3xl border border-white shadow-sm">
      <div class="text-6xl mb-4">ğŸ‰</div>
      <h3 class="text-2xl font-bold text-slate-900 mb-2">You're all caught up!</h3>
      <p class="text-slate-500">ä»Šæ—¥å¾…å¤ä¹ å•è¯å·²å…¨éƒ¨å®Œæˆã€‚</p>
      <button @click="$router.push('/dashboard')" class="mt-6 px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30">Back Home</button>
    </div>

    <div v-else-if="currentWord" class="relative perspective-1000">
      
      <div class="w-full bg-white rounded-3xl shadow-xl shadow-indigo-500/10 border border-slate-100 overflow-hidden min-h-[400px] flex flex-col items-center justify-center p-8 transition-all duration-500 text-center relative">
        
        <div v-if="!showAnswer" class="animate-fade-in-up">
          <span class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2 block">Word</span>
          <h1 class="text-5xl font-black text-slate-900 mb-4">{{ currentWord.word }}</h1>
          <button @click="showAnswer = true" class="mt-8 px-8 py-3 bg-indigo-50 text-indigo-600 font-bold rounded-xl hover:bg-indigo-100 transition-colors">
            Tap to Reveal
          </button>
        </div>

        <div v-else class="w-full animate-fade-in text-left">
           <div class="text-center border-b border-slate-100 pb-6 mb-6">
              <h1 class="text-4xl font-black text-slate-900 mb-2">{{ currentWord.word }}</h1>
              <p class="text-slate-500 font-serif text-lg italic">{{ currentWord.phonetic }}</p>
           </div>
           
           <div class="space-y-4 px-4">
              <div>
                 <span class="text-xs font-bold text-slate-400 uppercase">Meaning</span>
                 <p class="text-xl font-medium text-slate-800">{{ currentWord.translation }}</p>
              </div>
              
              <div v-if="currentWord.definition" class="bg-slate-50 p-4 rounded-xl border border-slate-100">
                 <span class="text-xs font-bold text-slate-400 uppercase">Definition</span>
                 <p class="text-slate-600 text-sm mt-1">{{ currentWord.definition }}</p>
              </div>

              <div v-if="currentWord.learning_plan?.word_id" class="mt-4">
                 <span class="text-xs font-bold text-indigo-400 uppercase">Context</span>
                 <p class="text-sm text-slate-500 mt-1 italic">
                    "From TV Show..." (APIéœ€è¡¥å……contextå­—æ®µ)
                 </p>
              </div>
           </div>
        </div>
      </div>

      <div v-if="showAnswer" class="flex gap-4 mt-6 animate-fade-in-up">
        <button @click="submitReview(false)" class="flex-1 py-3 bg-red-50 text-red-600 font-bold rounded-xl border border-red-100 hover:bg-red-100 transition-colors">
          Forgot
        </button>
        <button @click="submitReview(true)" class="flex-1 py-3 bg-green-50 text-green-600 font-bold rounded-xl border border-green-100 hover:bg-green-100 transition-colors">
          Got it
        </button>
      </div>

    </div>
  </div>
</template>

<script setup>
import { ref, onMounted, computed } from 'vue';
import request from '../utils/request';

const reviewQueue = ref([]);
const currentIndex = ref(0);
const loading = ref(true);
const showAnswer = ref(false);

const currentWord = computed(() => reviewQueue.value[currentIndex.value]);

const fetchTodayPlan = async () => {
  loading.value = true;
  try {
    const res = await request.get('/learning/today');
    reviewQueue.value = res.data.words || [];
  } catch (e) {
    console.error(e);
  } finally {
    loading.value = false;
  }
};

const submitReview = async (isCorrect) => {
  const word = currentWord.value;
  try {
    // POST /api/learning/review
    await request.post('/learning/review', {
      word_id: word.id,
      is_correct: isCorrect,
      time_spent: 5 // ç®€åŒ–çš„æ—¶é—´è®°å½•
    });
    
    // åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª
    showAnswer.value = false;
    if (currentIndex.value < reviewQueue.value.length) {
      currentIndex.value++;
    }
  } catch (e) {
    alert('æäº¤å¤±è´¥');
  }
};

onMounted(fetchTodayPlan);
</script>
```

------

### 4. AI åŠ©æ‰‹é¡µé¢ (`views/AI.vue`)

**è®¾è®¡æ€è·¯ï¼š**

- **å¯¹è¯å¼å¸ƒå±€ï¼š** å³ä½¿ç°åœ¨åŠŸèƒ½æ˜¯â€œå•æ¬¡æŸ¥è¯¢â€ï¼Œå¯¹è¯å¼ç•Œé¢ï¼ˆChat UIï¼‰èƒ½è®©ç”¨æˆ·æ„Ÿè§‰æ›´äº²åˆ‡ï¼Œä¸”æ–¹ä¾¿æ‰©å±•å¤šè½®å¯¹è¯ã€‚
- **è¾“å…¥åŒºï¼š** æ”¾åœ¨åº•éƒ¨ï¼ŒåŒ…å«å•è¯è¾“å…¥å’Œå‰§é›†ä¸Šä¸‹æ–‡ï¼ˆé€‰å¡«ï¼‰ã€‚
- **ç»“æœåŒºï¼š** æ”¯æŒ Markdown æ¸²æŸ“ï¼ˆå¦‚æœæ²¡æœ‰ markdown åº“ï¼Œæš‚æ—¶ç”¨ `whitespace-pre-wrap`ï¼‰ã€‚

ä»£ç æ®µ

```
<template>
  <div class="h-[calc(100vh-140px)] flex flex-col">
    <div class="text-center mb-6">
      <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-violet-600 to-fuchsia-600">
        AI Context Assistant
      </h1>
      <p class="text-slate-500 text-sm">è¾“å…¥å•è¯å’Œå‰§åï¼ŒAI å¸®ä½ æ·±åº¦è§£æå‰§æƒ…è¯­å¢ƒã€‚</p>
    </div>

    <div class="flex-1 overflow-y-auto space-y-4 pr-2 mb-4 scrollbar-thin">
      <div class="flex gap-3">
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0">AI</div>
        <div class="bg-white/80 border border-slate-100 p-4 rounded-2xl rounded-tl-none shadow-sm text-sm text-slate-700 max-w-[80%]">
          Hello! é‡åˆ°å“ªå¥å°è¯çœ‹ä¸æ‡‚äº†ï¼Ÿå‘Šè¯‰æˆ‘å•è¯å’Œå‰§åï¼Œæˆ‘æ¥å¸®ä½ åˆ†æã€‚
        </div>
      </div>

      <div v-for="(msg, index) in messages" :key="index" class="flex gap-3" :class="{'flex-row-reverse': msg.role === 'user'}">
        
        <div class="w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0"
             :class="msg.role === 'user' ? 'bg-slate-900' : 'bg-gradient-to-br from-violet-500 to-fuchsia-500'">
             {{ msg.role === 'user' ? 'ME' : 'AI' }}
        </div>

        <div class="p-4 rounded-2xl shadow-sm text-sm max-w-[80%]"
             :class="msg.role === 'user' 
                ? 'bg-slate-900 text-white rounded-tr-none' 
                : 'bg-white/80 border border-slate-100 text-slate-700 rounded-tl-none'">
          
          <div v-if="msg.loading" class="flex space-x-2 items-center h-5">
             <div class="w-1.5 h-1.5 bg-violet-400 rounded-full animate-bounce"></div>
             <div class="w-1.5 h-1.5 bg-violet-400 rounded-full animate-bounce delay-100"></div>
             <div class="w-1.5 h-1.5 bg-violet-400 rounded-full animate-bounce delay-200"></div>
          </div>
          <div v-else class="whitespace-pre-wrap leading-relaxed">{{ msg.content }}</div>
        </div>
      </div>
    </div>

    <div class="bg-white/80 backdrop-blur-xl border border-white/50 p-2 rounded-2xl shadow-lg shadow-indigo-500/10 flex flex-col gap-2">
      <div class="flex gap-2 px-2 pt-2">
        <input v-model="tvShow" type="text" placeholder="å‰§é›† (å¦‚: Friends)" class="bg-slate-50 text-xs px-3 py-1.5 rounded-lg border-none focus:ring-1 focus:ring-violet-500 w-1/3">
      </div>
      
      <div class="flex items-center gap-2 p-2">
        <input 
          v-model="inputWord" 
          @keyup.enter="sendMessage" 
          type="text" 
          placeholder="è¾“å…¥å•è¯æˆ–å¥å­..." 
          class="flex-1 bg-transparent border-none focus:ring-0 text-slate-800 placeholder-slate-400 font-medium"
        >
        <button 
          @click="sendMessage" 
          :disabled="!inputWord || loading"
          class="bg-slate-900 text-white p-2 rounded-xl hover:bg-slate-800 disabled:opacity-50 transition-colors"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
        </button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue';
import request from '../utils/request';

const messages = ref([]);
const inputWord = ref('');
const tvShow = ref('');
const loading = ref(false);

const sendMessage = async () => {
  if (!inputWord.value || loading.value) return;

  const word = inputWord.value;
  const show = tvShow.value;

  // 1. æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
  messages.value.push({ role: 'user', content: `${word} ${show ? '('+show+')' : ''}` });
  inputWord.value = '';

  // 2. æ·»åŠ  AI loading å ä½
  const aiMsgIndex = messages.value.push({ role: 'assistant', loading: true }) - 1;
  loading.value = true;

  try {
    // POST /api/ai/usage
    const res = await request.post('/ai/usage', { word, tv_show: show });
    
    // 3. æ›¿æ¢ä¸ºçœŸå®å›å¤
    messages.value[aiMsgIndex] = {
      role: 'assistant',
      content: res.data.content || 'æš‚æ— è§£æç»“æœï¼Œè¯·ç¨åå†è¯•ã€‚'
    };
  } catch (error) {
    messages.value[aiMsgIndex] = {
      role: 'assistant',
      content: 'AI æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥ç½‘ç»œã€‚'
    };
  } finally {
    loading.value = false;
  }
};
</script>
```

------

### ğŸš€ è·¯ç”±é…ç½®å»ºè®® (`router/index.js`)

æœ€åï¼Œåˆ«å¿˜äº†æŠŠè¿™äº›é¡µé¢ä¸²è”èµ·æ¥ã€‚

JavaScript

```
import { createRouter, createWebHistory } from 'vue-router';
import AppLayout from '../layouts/AppLayout.vue';
import Login from '../views/Login.vue';
import Dashboard from '../views/Dashboard.vue';
import Library from '../views/Library.vue';
import Learning from '../views/Learning.vue';
import AI from '../views/AI.vue';

const routes = [
  {
    path: '/login',
    component: Login,
    meta: { public: true }
  },
  {
    path: '/',
    component: AppLayout,
    children: [
      { path: '', redirect: '/dashboard' },
      { path: 'dashboard', component: Dashboard },
      { path: 'library', component: Library },
      { path: 'learning', component: Learning }, // å­¦ä¹ è®¡åˆ’/å¤ä¹ 
      { path: 'ai', component: AI }
    ]
  }
];

const router = createRouter({
  history: createWebHistory(),
  routes
});

// ç®€å•çš„è·¯ç”±å®ˆå«
router.beforeEach((to, from, next) => {
  const token = localStorage.getItem('token');
  if (!to.meta.public && !token) {
    next('/login');
  } else {
    next();
  }
});

export default router;
```

è¿™å¥—ä»£ç åº”è¯¥èƒ½ç»™æ‚¨ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€è§†è§‰ç»Ÿä¸€ä¸”éå¸¸ç°ä»£åŒ–çš„å‰ç«¯ä½“éªŒã€‚å¦‚æœæ‚¨åœ¨æŸä¸ªé¡µé¢çš„å…·ä½“äº¤äº’ä¸Šæœ‰æ›´ç»†è‡´çš„æƒ³æ³•ï¼ˆæ¯”å¦‚å­¦ä¹ è®¡åˆ’æƒ³åŠ ä¸ªå€’è®¡æ—¶ï¼Œæˆ–è€…å•è¯åº“æƒ³åšæˆç€‘å¸ƒæµï¼‰ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼